import{r as c,u as w,a as N,b as r,j as e,L as d,A as v,l as y}from"./index-DQHUOvXA.js";import{u as k,a as F,I as x,c as E,b as h}from"./Toast-C2LIl6fb.js";const L=E().shape({email:h().required("Email/Username is required"),password:h().required("Password is required")}),R=()=>{const p=k(),[i,l]=c.useState(!1),{register:t,handleSubmit:u,errors:m,reset:g,setValue:o}=F(L),b=w(),j=N(),f=s=>{v.post("user/login",s).then(a=>{var n;p({...a,fullFillHide:!0}),i?(r.set("email",s==null?void 0:s.email,{expires:30}),r.set("password",s==null?void 0:s.password,{expires:30})):(r.remove("email"),r.remove("password")),a.success&&(b(y(a==null?void 0:a.data)),r.set("token",(n=a==null?void 0:a.data)==null?void 0:n.access_token,{expires:30}),j("/"))}),g()};return c.useEffect(()=>{const s=r.get("email")||"",a=r.get("password")||"";s&&o("email",s),a&&o("password",a),a&&s&&l(!0)},[]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:u(f),children:e.jsx("div",{className:"bg_images",children:e.jsx("div",{className:"font-[sans-serif]",children:e.jsx("div",{className:"min-h-screen flex fle-col items-center justify-center py-6 px-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full",children:[e.jsx("div",{className:"border border-gray-300 rounded-lg p-6 max-w-md shadow-[0_2px_22px_-4px_rgba(93,96,127,0.2)] max-md:mx-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("img",{src:"/img/logo.png",alt:"logo",className:"mb-4 h-20"}),e.jsx("h3",{className:"text-gray-800 text-3xl font-extrabold",children:"Sign In"}),e.jsx("p",{className:"text-gray-500 text-sm mt-4 leading-relaxed",children:"Sign in to your account and explore a world of possibilities. Your journey begins here."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 text-sm mb-2 block",children:"Email / Username"}),e.jsx("div",{className:"relative flex items-center",children:e.jsx(x,{name:"email",type:"text",register:t,errors:m,showLabel:!1})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 text-sm mb-2 block",children:"Password"}),e.jsx("div",{className:"relative flex items-center",children:e.jsx(x,{label:"Password",name:"password",type:"password",register:t,errors:m,showLabel:!1})})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 shrink-0 text-primary focus:ring-blue-500 border-gray-300 rounded",checked:i,onChange:s=>l(s.target.checked)}),e.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-800",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(d,{to:"/forgot-password",className:"text-primary hover:underline font-semibold",children:"Forgot your password?"})})]}),e.jsx("div",{className:"!mt-8",children:e.jsx("button",{type:"submit",className:"w-full shadow-xl py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-primary  focus:outline-none",children:"Log in"})}),e.jsxs("p",{className:"text-sm !mt-8 text-center text-gray-800",children:["Don't have an account ",e.jsx(d,{to:"/signup",className:"text-primary font-semibold hover:underline ml-1 whitespace-nowrap",children:"Register here"})]})]})}),e.jsx("div",{className:"hidden lg:block lg:h-[400px] md:h-[300px] max-md:mt-8",children:e.jsx("img",{src:"img/login-2.png",className:"w-full h-full max-md:w-4/5 mx-auto block object-cover",alt:"Login VITE"})})]})})})})})})};export{R as default};
