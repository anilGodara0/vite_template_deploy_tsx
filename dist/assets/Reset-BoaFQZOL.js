import{a as f,j as e,h as j,A as d}from"./index-DQHUOvXA.js";import{u as b,a as v,I as l,c as N,b as i,d as y}from"./Toast-C2LIl6fb.js";const P=N().shape({otp:i().required("Otp is required").max(8,"Otp is invalid").min(4,"Otp is invalid"),password:i().required("Please enter a password").min(8,"Please enter at least eight characters"),confirmPassword:i().oneOf([y("password")],"Passwords must match").required("Please enter your confirm password")}),S=()=>{const n=b(),{register:a,handleSubmit:x,errors:r,reset:p}=v(P),h=f(),u=async(s,g)=>{var o;try{const t=j.UrlParamGet("email"),c=await d.post("user/verify-otp",{otp:s,email:t});if(c.success){const m=await d.put("user/reset/user-password",{id:(o=c.data)==null?void 0:o.id,password:g});n(m),m.success&&h("/login")}}catch(t){console.error("Password reset failed",t)}},w=s=>{u(s.otp,s.password),p()};return e.jsx("form",{className:"bg_images",onSubmit:x(w),children:e.jsx("div",{className:"font-[sans-serif] min-h-screen flex flex-col items-center justify-center py-6 px-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full",children:[e.jsx("div",{className:"border border-gray-300 rounded-lg p-6 max-w-md shadow-md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("img",{src:"/img/logo.png",alt:"logo",className:"mb-4 h-20"}),e.jsx("h3",{className:"text-gray-800 text-3xl font-extrabold",children:"New Password"}),e.jsx("p",{className:"text-gray-500 text-sm mt-4 leading-relaxed",children:"Please enter a new password for your account."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 text-sm mb-2 block",children:"OTP"}),e.jsx("div",{className:"relative flex items-center",children:e.jsx(l,{name:"otp",type:"text",register:a,errors:r,showLabel:!1})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 text-sm mb-2 block",children:"Password"}),e.jsx("div",{className:"relative flex items-center",children:e.jsx(l,{name:"password",type:"password",register:a,errors:r,showLabel:!1})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-800 text-sm mb-2 block",children:"Confirm Password"}),e.jsx("div",{className:"relative flex items-center",children:e.jsx(l,{name:"confirmPassword",type:"password",register:a,errors:r,showLabel:!1})})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{type:"submit",className:"w-full shadow-xl py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-primary focus:outline-none",children:"Save"})})]})}),e.jsx("div",{className:"lg:h-[400px] md:h-[300px] max-md:mt-8",children:e.jsx("img",{src:"img/login-3.png",className:"w-full h-full max-md:w-4/5 mx-auto block object-cover",alt:"Login"})})]})})})};export{S as default};
